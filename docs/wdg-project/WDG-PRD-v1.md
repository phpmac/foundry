# 水神·九转重生 (WDG/WDGG) 产品需求文档 PRD

## 1. 项目概述

### 1.1 基本信息
- **项目名称**: 水神·九转重生
- **母币名称**: WDG
- **子币名称**: WDGG
- **支持链**: BSC (币安链) + POL (Polygon马蹄链)
- **运行模式**: 智能合约DApp双链运行, 100%开源, 100%权限丢弃
- **产品定位**: 动静结合, 子母币高度联动的DeFi+MLM创新模型

### 1.2 核心价值主张
- 滑点手续费100%全额分配, 平台不作任何预留
- 所有玩家参与母币资金100%全额分配市场, 平台无资金池
- 通过二二复制滑落机制实现团队互助
- 子母双币互动流通, 极致销毁通缩

---

## 2. 用户参与机制

### 2.1 参与条件
- **终身个人投资门槛**: 100 USDT (最低入场)
- **运作机制**: 二二复制, 选择性滑落

### 2.2 滑落优先级规则 (四优先级)
```
滑落顺序:
1. 优先弱区 (人数少的区)
2. 优先直推 (推荐人的直推会员)
3. 优先空点 (离我最近的空点位)
4. 从左到右顺排
```

### 2.3 网体结构
- **层级**: 共9层
- **二二复制**: 每层人数 = 2^n
- **总点位数**: 2^10 - 1 = 1023人 (9层满)
- **分盘条件**: 完成九转即可分盘

| 层级 | 人数 | 升级费 | 说明 |
|------|------|--------|------|
| 1 | 2 | 200U | 第一层每人交200 |
| 2 | 4 | 200U | 第二层每人交200 |
| 3 | 8 | 300U | 第三层每人交300 |
| 4 | 16 | 400U | 第四层每人交400 |
| 5 | 32 | 500U | 需直推1人才能拿 |
| 6 | 64 | 600U | 需直推2人才能拿 |
| 7 | 128 | 700U | 需直推3人才能拿 |
| 8 | 256 | 800U | 需直推4人才能拿 |
| 9 | 512 | 900U | 需直推5人才能拿 |

---

## 3. 静态收益体系

### 3.1 静态套餐等级 (10个等级)

| 等级 | 投资金额 | 5倍收益 | 获得WDGG | 备注 |
|------|----------|---------|----------|------|
| 1 | 100U | 500U | 无 | 入门门槛 |
| 2 | 200U | 1000U | 有 | 开始对接WDGG |
| 3 | 400U | 2000U | 有 | |
| 4 | 800U | 4000U | 有 | |
| 5 | 1600U | 8000U | 有 | |
| 6 | 3200U | 16000U | 有 | |
| 7 | 6400U | 32000U | 有 | |
| 8 | 12800U | 64000U | 有 | |
| 9 | 25600U | 128000U | 有 | |
| 10 | 51200U | 256000U | 有 | 最高可无限复投 |

### 3.2 静态规则
- **购买方式**: 100U只能买一次, 200U-51200U只能按顺序各买一次
- **51200U后**: 可无限次购买51200U套餐
- **收益倍数**: 5倍出局 (投入100U, 最高拿回500U)
- **冻结机制**: 静态收益初始为冻结状态
- **解冻条件**: 动态升级同等金额才能解冻对应静态收益
  - 例: 静态投100U获得500U冻结, 需动态升100U才能解冻500U
  - 实际总投入 = 静态100U + 动态100U = 200U, 拿回500U

### 3.3 静态WDGG对接
- **200U及以上套餐**: 按实时价格获得等值WDGG
- **100U套餐**: 不赠送WDGG
- **目的**: 用静态带动动态, 解决MLM底部点火问题

---

## 4. 动态收益体系 (刘十三/九转模型)

### 4.1 直推奖
- **比例**: 100% (推荐人获得被推荐人入场金额的100% WDG)
- **机制**: U进币出, 投入100U获得100U等值WDG
- **额外奖励**: 直推人静态收益5倍出局时, 推荐人获得其收益的10%

### 4.2 层级奖 (升级费分配)
- **分配比例**: 升级费的80%归上级, 20%平台扣除
- **层级**: 1-9层, 每层升级费递增

| 层级 | 升级费 | 上级获得(80%) | 平台扣除(20%) | 直推要求 |
|------|--------|---------------|---------------|----------|
| 1 | 100U | 80U | 20U | 无 |
| 2 | 200U | 160U | 40U | 无 |
| 3 | 300U | 240U | 60U | 无 |
| 4 | 400U | 320U | 80U | 无 |
| 5 | 500U | 400U | 100U | 需直推1人 |
| 6 | 600U | 480U | 120U | 需直推2人 |
| 7 | 700U | 560U | 140U | 需直推3人 |
| 8 | 800U | 640U | 160U | 需直推4人 |
| 9 | 900U | 720U | 180U | 需直推5人 |

### 4.3 白嫖机制
- **定义**: 非直推的下级升级, 也能获得层级奖
- **白嫖范围**: 前4层无条件白嫖
- **5层起限制**: 需满足直推人数要求才能拿对应层级奖

### 4.4 动态收益资金流向 (平台扣除的20%)

```
平台扣除20%分配:
├── 10% -> 静态算力池 (10个等级各1%)
├── 1%  -> 节点分红
├── 8.888% -> 动态直推奖 (无限代10%级差)
├── 0.2% -> 技术钱包
```

### 4.5 动态直推奖 (无限代10%级差)
- **机制**: A推荐B, B获得升级费, A获得B收益的10%
- **级差**: A的上级获得1%, 再上级获得0.1%, 再上级0.01%...
- **无限代**: 理论上可无限向上追溯

---

## 5. 母币WDG交易规则

### 5.1 基本规则
- **购买**: 不可直接购买
- **卖出**: 自由卖出, 随时交易
- **机制**: U进币出 (入场用U, 获得WDG; 出场卖WDG, 获得U)

### 5.2 卖出滑点 (25%)

| 分配项 | 比例 | 说明 |
|--------|------|------|
| 静态算力分配 | 22% | 11个池子, 每池2% |
| 节点分红 | 1% | 全网节点分红 |
| 购买子币销毁 | 1% | 自动购买WDGG销毁 |
| 技术钱包 | 1% | 团队运营 |
| **总计** | **25%** | |

### 5.3 静态算力池分配 (22%)
- **10个等级池**: 对应100U-51200U的10个静态套餐, 每池2%
- **1个直推池**: 2%, 用于直推奖10%分配
- **分红方式**: 该等级所有用户平均分配当日该池收益

---

## 6. 子币WDGG交易规则

### 6.1 基本参数
- **总供应量**: 10亿枚
- **目标销毁**: 通缩至2100万枚 (销毁97.9%)
- **获取方式**: 静态200U以上套餐赠送

### 6.2 交易滑点 (买10% + 卖10% = 共20%)

| 分配项 | 比例 | 说明 |
|--------|------|------|
| 持币分红 | 80% | 按持币量分红给所有持有者 |
| 回流底池 | 10% | 增加流动性 |
| 销毁 | 10% | 发送至黑洞地址 |
| **总计** | **100%** | |

### 6.3 经济模型
- **通缩机制**: 每笔交易销毁10%
- **分红机制**: 持币即享分红, 无需质押
- **升值逻辑**: 总量从10亿销毁至2100万, 理论升值47.6倍

---

## 7. 节点权益

### 7.1 节点数量
- **全球限量**: 约500个

### 7.2 节点价格
- **私募价格**: 500 USDT

### 7.3 节点权益

| 权益 | 说明 |
|------|------|
| 全网滑点1%分红 | 永久享受全网WDG交易1%分红 |
| 层级升级奖1%分红 | 永久享受全网升级费1%分红 |
| 子币赠送 | 获得WDGG空投 |
| 静态加速 | 赠送300U, 5倍静态收益资格 |
| 激活权益 | 2级200U账户直接激活 |

### 7.4 私募资金流向
```
500U节点购买:
├── 400U -> 私募钱包 (用于分配给团队长/领导人)
└── 100U -> 合约 (直推奖, 可提现)
```

---

## 8. 收益汇总 (五重收益)

| 收益类型 | 来源 | 比例/倍数 |
|----------|------|-----------|
| 直推奖 | 推荐人入场 | 100% + 静态收益10% |
| 层级奖 | 网体1-9层升级 | 升级费80% |
| 静态奖 | 静态投资 | 5倍出局 |
| 子币奖励 | 升级赠送 | 等值WDGG |
| 子币升值 | 通缩销毁 | 10亿→2100万 |

---

## 9. 合约交互设计

### 9.1 核心合约模块

| 模块 | 功能 |
|------|------|
| WDGToken | 母币ERC20合约 |
| WDGGToken | 子币ERC20合约 (带反射分红) |
| StaticPool | 静态投资池 |
| DynamicPool | 动态升级池 |
| ReferralSystem | 推荐关系系统 |
| NodeManager | 节点管理系统 |
| SlippageDistributor | 滑点分配器 |

### 9.2 关键函数设计

```solidity
// 静态投资
function investStatic(uint256 level) external payable

// 动态升级
function upgradeDynamic(uint256 level) external payable

// 绑定推荐人
function bindReferrer(address referrer) external

// 领取静态收益 (需先升级解冻)
function claimStaticReward() external

// 领取动态收益
function claimDynamicReward() external

// 购买节点
function buyNode(address referrer) external payable

// WDG卖出 (带25%滑点)
function sellWDG(uint256 amount) external

// WDGG交易 (带10%滑点)
```

---

## 10. 风险评估

### 10.1 业务逻辑风险

| 风险项 | 等级 | 说明 |
|--------|------|------|
| 庞氏结构 | HIGH | 后入金支付先入金收益, 需持续资金流入 |
| 九层封顶 | MEDIUM | 9层后分盘, 可能导致团队分裂 |
| 静态冻结 | MEDIUM | 需动态升级解冻, 强制参与推广 |
| 币价波动 | HIGH | WDG价格依赖市场, 可能大幅波动 |

### 10.2 合约安全风险

| 风险项 | 等级 | 说明 |
|--------|------|------|
| 重入攻击 | MEDIUM | 资金流转频繁, 需检查重入防护 |
| 权限控制 | HIGH | 需确保100%权限丢弃 |
| 滑点计算 | MEDIUM | 复杂分配逻辑, 需精确计算 |
| 推荐关系篡改 | HIGH | 必须确保绑定后不可修改 |

### 10.3 监管风险

| 风险项 | 等级 | 说明 |
|--------|------|------|
| 传销模式 | CRITICAL | 二二复制+层级奖, 可能涉及传销 |
| 资金盘 | CRITICAL | 无实际业务, 纯资金流转 |
| 非法集资 | HIGH | 承诺固定收益, 可能涉及非法集资 |

---

## 11. 开发优先级

### P0 (必须上线)
- [ ] 钱包连接与注册
- [ ] 二二复制滑落逻辑
- [ ] 静态投资功能
- [ ] 动态升级功能
- [ ] 推荐关系绑定
- [ ] 节点购买
- [ ] WDG基础转账

### P1 (上线后1周内)
- [ ] 滑点分配完整逻辑
- [ ] WDGG发射与交易
- [ ] 收益领取功能
- [ ] 团队网体展示

### P2 (上线后1月内)
- [ ] 数据统计面板
- [ ] 多链部署
- [ ] 权限完全丢弃

---

## 12. 附录

### 12.1 术语表

| 术语 | 说明 |
|------|------|
| 二二复制 | 每个用户下面只有两个点位, 推荐第三人滑落到下级 |
| 滑落 | 新用户根据规则自动分配到某个上级下面 |
| 弱区 | 人数较少的那个区 |
| 九转 | 完成9层升级, 共1023人 |
| 分盘 | 九层满后, 顶层用户出局, 网体分裂 |
| U进币出 | 投入USDT, 获得代币 |
| 滑点 | 交易时扣除的手续费比例 |

### 12.2 数学验证

**九层满人数计算:**
```
总点位 = 2^1 + 2^2 + ... + 2^9 = 2^10 - 2 = 1022人
(不含顶层) 或 2^10 - 1 = 1023人 (含顶层)
```

**静态收益计算:**
```
投入: 100 + 200 + 400 + 800 + 1600 + 3200 + 6400 + 12800 + 25600 + 51200 = 102300U
5倍收益: 102300 * 5 = 511500U
```

**动态收益上限 (单线9层):**
```
第1层: 2 * 200 = 400U (交100, 净赚300)
第2层: 4 * 200 = 800U (交200, 净赚600)
第3层: 8 * 300 = 2400U (交300, 净赚2100)
...
```

---

*文档版本: v1.0*
*创建时间: 2026-02-09*
*状态: 需求整理完成, 待技术评审*
